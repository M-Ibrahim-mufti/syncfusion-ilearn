<div class="row g-5 mx-1 my-2 bg-white rounded-2">
    <div class="m-0 d-flex justify-content-between py-2 align-items-center">
        <h2 class="d-inline-flex align-items-center gap-3 my-3 fw-bold text-dark d-block fs-4 ">Available Tutors <span *ngIf="availableTutor.length > 0" class="fs-6 text-muted badge rounded-pill bg-secondary">{{availableTutor.length}}</span></h2>
    </div>
</div>
<div class="row g-5 mx-1 my-2 bg-white rounded-2">
    <div class="d-flex justify-content-around mt-0 py-4">
        <div class="filter-col filter-shadows rounded-4">        
            <select
                (change)="onDayChange($event)"
                class="cursor-pointer border-dull-white h-100 form-select form-select-solid bg-white text-center"
                [(ngModel)]="selectedDay">
                <option class="py-1 cursor-pointer" *ngFor="let day of days" [ngValue]="day.value" [disabled]="day.value === null" [selected]="day.value === null">{{ day.label }}</option>
            </select>  
        </div>
        <div class="filter-col filter-shadows rounded-4">               
            <select
                (change)="onSubjectChange($event)"
                class="cursor-pointer border-dull-white h-100 form-select form-select-solid py-3 bg-white text-center"
                [(ngModel)]="selectedSubject">
                <option class="py-1 cursor-pointer" *ngFor="let subject of Subjects" [ngValue]="subject.value" [disabled]="subject.value === null" [selected]="subject.value === null">{{ subject.label }}</option>
            </select>  
        </div>
        <div class="filter-col filter-shadows rounded-4">               
            <select
                (change)="onGradeChange($event)"
                class="cursor-pointer border-dull-white h-100 form-select form-select-solid bg-white text-center"
                [(ngModel)]="selectedGrade">
                <option class="py-1 cursor-pointer" *ngFor="let grade of Grades" [ngValue]="grade.value" [disabled]="grade.value === null" [selected]="grade.value === null">{{ grade.label }}</option>
            </select>  
        </div>
        <div class="filter-col filter-shadows rounded-4">        
            <select
                (change)="onStartTimeChange($event)"
                class="cursor-pointer border-dull-white h-100 form-select form-select-solid bg-white text-center"
                [(ngModel)]="selectedTimegroup"   >
            
                <option class="py-1 cursor-pointer" *ngFor="let timeGroup of TimeGroup" [ngValue]="timeGroup.value" [disabled]="timeGroup.value === -1" [selected]="timeGroup.value === -1">{{ timeGroup.label }}</option>
            </select>
        </div>
        <div class="col-md-1 filter-shadows rounded-5" style="border-radius: 8px;">
            <button (click)="clearAllFilters($event)" class="h-100 w-100 text-center btn btn-close-white border border-dull-white">
                <i class="fa fa-filter"></i>
                 Clear</button>
        </div>
    </div>
</div>
<!-- <div class="row g-5 g-xl-10 my-2 mb-xl-10 bg-white rounded-2">
    <div class="grid-box col-md-11 mb-10 mx-auto" >
        <ng-container *ngFor="let tutor of availableTutor">
            <div class="card" [routerLink]="['/student/tutor-detail', tutor.Id]">
                <div class="profile">
                    <img (click)="navigateTutorDetailPage(tutor)"
                        [src]="tutor.ImgUrl ? tutor.ImgUrl : './assets/Ilearn-assets/user-profile.png'"
                        [alt]="tutor.FullName">
                    <div class="name">{{tutor.Hon}} {{tutor.FullName}}</div>
                </div>
                <img class="background-image"
                    [src]="tutor.ImgUrl ? tutor.ImgUrl : '/assets/Ilearn-assets/user-profile.png'"
                    [alt]="tutor.FullName">

                <div class="info px-4">
                    <h1 class="text-white">About</h1>
                    <p>A highly knowledgeable educator with a Master of Science degree, specializing in
                        providing advanced scientific and mathematical instruction.</p>
                </div>
            </div>
        </ng-container>
    </div>
</div>  -->
<div class="row g-5 mx-1 my-2 bg-white rounded-2">
    <ng-container *ngFor="let tutor of availableTutor; let i = index">
        <div class="col-md-8 mb-2 px-3">
            <div class="border border-2 border-dull-white rounded-3 shadows py-5 px-4" (mouseenter)="getTutorAvailabilities(tutor.Id)">
                <div class="mx-3 d-flex gap-4">
                    <div class="col-md-2 text-center neg-margin mt-0">
                        <img class="rounded-2" style="background-position:center center; object-fit:cover; width: 160px; height: 160px;" [src]="tutor.ImgUrl ? tutor.ImgUrl : '../../../../assets/user-profile.png'" />
                    </div>
                    <div class="col-md-7">
                        <div class="mt-2">
                            <h5 class="mb-0 fw-bold fs-4 d-flex gap-2 align-items-center">{{tutor.Hon}} {{tutor.FullName}}.  
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-patch-check-fill" viewBox="0 0 16 16">
                                    <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"/>
                                </svg>
                            </h5>
                            <p class="mb-1 text-muted fw-bold">{{tutor.Qualifications}}</p>
                            <p class="mb-1 bg-secondary text-muted rounded-2 fw-bolder ST-width py-1 px-4" *ngIf="tutor.TotalMeetings >= 5">Super Tutor</p>
                            <p class="mb-1 text-muted fw-semibold">{{tutor.TotalStudents}} active students</p>
                            <span class="mb-3 text-muted fw-semibold">{{tutor.TotalMeetings}} lectures</span>
                            <div class="d-flex gap-3 mb-1">
                                <span class="py-1 px-4 bg-secondary rounded-2 text-muted fw-bolder" *ngFor="let subject of tutor.TutorSubjects">{{subject.SubjectName}}</span>
                            </div>
                            <p class="mb-1 text-muted fw-semibold">
                                {{ tutor.isExpanded ? tutor.Description : (tutor.Description | slice:0:150) + '...' }}
                            </p>
                            <p class="text-primary cursor-pointer fw-semibold" (click)="toggleReadMore(i)">
                                {{ tutor.isExpanded ? 'Read Less' : 'Read More' }}
                            </p>
                        </div>
                    </div>
                    <div class="col-md-3 d-flex align-items-end justify-content-center">
                        <button class="profile-btn" (click)="navigateTutorDetailPage(tutor)">Show Profile</button>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="tutor.Id === availabilityCont" class="overflow-scroll availability-cont-height col-md-3 py-2 px-0 shadows rounded-3 border border-2 border-dull-white mb-2 mx-3">
            <div *ngIf="tutor" class="col-md-12">
                <div class="border-bottom px-3 py-2">
                  <h3 class="mb-0 card-title fw-bolder text-dark">{{tutor.FullName}} Availabilities</h3>
                </div>
                <div class="card-body pt-2">
                  <div class="d-flex align-items-center pt-2 mb-3" *ngFor="let availability of selectedTutorAvailibilities">
                    <span class="bullet bullet-vertical h-40px bg-primary"></span>
                    <div class="flex-grow-1 ms-3">
                      <span class="text-muted text-hover-primary fw-bolder fs-6">
                      {{availability.Day + (availability.Day === 'Wed' ? "enesday" : availability.Day === 'Thu' ?  "rsday" : availability.Day === 'Tue' ? "sday"  : availability.Day === 'Sat' ? 'urday' : "day"  ) }}
                      </span>
                      <span class="text-muted fw-semibold d-block">
                        Time frame starts from {{availability.OpenTimeHours}}:{{availability.OpenTimeMinutes < 10 ? '0' + availability.OpenTimeMinutes : availability.OpenTimeMinutes}} — {{availability.CloseTimeHours}}:{{availability.CloseTimeMinutes < 10 ? '0' + availability.CloseTimeMinutes : availability.CloseTimeMinutes}}
                      </span>
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </ng-container>
</div>

        <!-- <div class="profile-card">
            <div class="profile-header">
                <img [src]="tutor.ImgUrl ? tutor.ImgUrl : './assets/Ilearn-assets/user-profile.png'" alt="Profile Picture" class="profile-picture">
                <div class="profile-info">
                    <h2 class="profile-name">{{tutor.Hon}} {{tutor.FullName}} 
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-patch-check-fill" viewBox="0 0 16 16">
                            <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"/>
                        </svg>
                    </h2>
                    <p class="profile-role" *ngIf="tutor.TotalMeetings >= 5" >Super Tutor</p>
                    <p class="profile-language">{{tutor.Qualifications}}</p>
                </div>
            </div>
            <div class="profile-details">
                <p>9 active students • {{tutor.TotalMeetings}} lectures</p>
                <ng-container *ngFor="let subject of tutor.TutorSubjects">
                    <p class="subject-name me-2 my-2" *ngIf="subject.SubjectName">{{subject.SubjectName}}</p>
                </ng-container>
                <p class="profile-description">
                    {{ tutor.isExpanded ? tutor.Description : (tutor.Description | slice:0:100) + '...' }}
                </p>
                <p class="read-more" (click)="toggleReadMore(i)">
                    {{ tutor.isExpanded ? 'Read Less' : 'Read More' }}
                </p>
            </div>
            <div class="profile-footer">
                <button class="trial-lesson" (click)="navigateTutorDetailPage(tutor)">Book trial lesson</button>
            </div>
        </div> -->
