<div class="row g-5 mx-3 my-4 bg-white rounded-3">
    <h5 class="m-0 my-4">Student Registration</h5>
</div>
<div class="row g-5 mx-3 my-2 bg-white rounded-3 ">
    <div class="defaultStepper" >
      <ejs-stepper (stepChanged)="stepChanged($event)">
        <e-steps>
            <e-step label="Parent/Guardian Details"></e-step>
            <e-step label="Student Details"></e-step>
        </e-steps>
      </ejs-stepper>
    </div>
    <!--Parent/Guardian-->
    <form *ngIf="activeIndex === 0" class="row g-3 mb-4">
        <div class="col-md-2">
            <label for="parentHon" class="form-label">Hon (e.g. Mr, Ms)</label>
            <input type="text" class="form-control" id="parentHon" [(ngModel)]="studentRegistrationForm.ParentHon"
                name="parentHon">
        </div>
        <div class="col-md-10">
            <label for="parentFullName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="parentFullName" [(ngModel)]="studentRegistrationForm.ParentFullName"
                name="parentFullName">
        </div>
        <div class="col-6">
            <label for="Email" class="form-label">Email</label>
            <input type="text" class="form-control" id="Email" [(ngModel)]="studentRegistrationForm.ParentEmail"
                name="parentEmail">
        </div>
        <div class="col-6">
            <label for="Phone" class="form-label">Phone</label>
            <input type="text" class="form-control" id="Phone" [(ngModel)]="studentRegistrationForm.ParentPhoneNumber"
                name="parentPhone">
        </div>
        <div class="col-8">
            <label for="Address" class="form-label">Address</label>
            <input type="text" class="form-control" id="Address" [(ngModel)]="studentRegistrationForm.ParentAddress"
                name="parentAddress">
        </div>
        <div class="col-md-4">
            <label for="City" class="form-label">City</label>
            <input type="text" class="form-control" id="City" [(ngModel)]="studentRegistrationForm.ParentCity" name="parentCity">
        </div>
        <div class="col-md-4">
            <label for="State" class="form-label">State</label>
            <input type="text" class="form-control" id="State" [(ngModel)]="studentRegistrationForm.ParentState"
                name="parentState">
        </div>
        <div class="col-md-2">
            <label for="PostalCode" class="form-label">Postal Code</label>
            <input type="text" class="form-control" id="PostalCode" [(ngModel)]="studentRegistrationForm.ParentPostalCode"
                name="parentPostalCode">
        </div>
        <div class="col-md-6">
            <label for="Country" class="form-label">Country</label>
            <input type="text" class="form-control" id="Country" [(ngModel)]="studentRegistrationForm.ParentCountry"
                name="parentCountry">
        </div>
        <div class="col-md-12">
            <label for="RelationWithStudent" class="form-label">Relation With Student</label>
            <input type="text" class="form-control" id="RelationWithStudent"
                [(ngModel)]="studentRegistrationForm.ParentRelationship" name="parentRelationWithStudent">
        </div>
        <div class="col-md-12">
          <button ejs-button *ngIf="activeIndex !== stepValues.length - 1" type="button"
              class="e-info mx-3 mb-3 px-4 py-2 rounded-3" [disabled]="!studentRegistrationForm.ParentEmail || !studentRegistrationForm.ParentFullName || !studentRegistrationForm.ParentAddress || !studentRegistrationForm.ParentPhoneNumber" (click)="next()">Next</button>
        </div>
    </form>
    <!--Student-->
    <form *ngIf="activeIndex === 1" class="row g-3 mb-4">
        <div class="col-md-2">
            <label for="Hon" class="form-label">Hon (e.g. Mr, Ms)</label>
            <input type="text" class="form-control" id="Hon" [(ngModel)]="studentRegistrationForm.StudentHon" name="studentHon">
        </div>
        <div class="col-md-10">
            <label for="FullName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="FullName" [(ngModel)]="studentRegistrationForm.StudentFullName"
                name="studentFullName">
        </div>
        <div class="col-6">
            <label for="Email" class="form-label">Email</label>
            <input type="text" class="form-control" id="Email" [(ngModel)]="studentRegistrationForm.StudentEmail"
                name="studentEmail">
        </div>
        <div class="col-6">
            <label for="Phone" class="form-label">Phone</label>
            <input type="text" class="form-control" id="Phone" [(ngModel)]="studentRegistrationForm.StudentPhoneNumber"
                name="studentPhone">
        </div>
        <div class="col-8">
            <label for="Address" class="form-label">Address</label>
            <input type="text" class="form-control" id="Address" [(ngModel)]="studentRegistrationForm.StudentAddress"
                name="studentAddress">
        </div>
        <div class="col-md-4">
            <label for="City" class="form-label">City</label>
            <input type="text" class="form-control" id="City" [(ngModel)]="studentRegistrationForm.StudentCity" name="studentCity">
        </div>
        <div class="col-md-4">
            <label for="State" class="form-label">State</label>
            <input type="text" class="form-control" id="State" [(ngModel)]="studentRegistrationForm.StudentState"
                name="studentState">
        </div>
        <div class="col-md-2">
            <label for="PostalCode" class="form-label">Postal Code</label>
            <input type="text" class="form-control" id="PostalCode" [(ngModel)]="studentRegistrationForm.StudentPostalCode"
                name="studentPostalCode">
        </div>
        <div class="col-md-6">
            <label for="Country" class="form-label">Country</label>
            <input type="text" class="form-control" id="Country" [(ngModel)]="studentRegistrationForm.StudentCountry"
                name="studentCountry">
        </div>
        <div class="col-md-4">
            <label for="SchoolGrade" class="form-label">School Grade</label>
            <input type="text" class="form-control" id="SchoolGrade" [(ngModel)]="studentRegistrationForm.StudentSchoolGrade"
                name="studentSchoolGrade">
        </div>
        <div class="col-md-8">
            <label for="SchoolGrade" class="form-label">Subjects Available</label>
            <ejs-multiselect id="multiSubjectSelect" [(value)]="selectedSubjects" [allowObjectBinding]="true" [dataSource]="subjects" [fields]="{text:'label', value:'value'}" ></ejs-multiselect>
        </div>
        <div class="col-md-1">
          <div class="form-group mt-2">
            <ng-container>
                <div class="">
                    <label class="form-label">Student Profile image</label>
                    <div class="position-relative">
                        <img style="width: 100px; height: 100px; object-fit: cover; border-radius: 6px;" [src]="studentRegistrationForm.StudentImgUrl ? studentRegistrationForm.StudentImgUrl : '../../../../../../assets/user-profile.png'"/>
                        <button *ngIf="studentRegistrationForm.StudentImgUrl !== null" (click)="removeImg($event)" class="remove-btn">
                            <span class="position-relative fs-6 text-white" style="top: -3px; right: -0.5px;"> x </span>
                        </button>
                    </div>
                    <label for="ImageInput" *ngIf="studentRegistrationForm.StudentImgUrl === null" class="z-2 cursor-pointer rounded-3 text-white gap-2 image-btn d-flex justify-content-center align-items-center">
                        <span class="cursor-pointer e-icons e-plus"></span>
                        <label class="cursor-pointer fw-bold w-full">Image</label>
                        <input (change)="onImageSelected($event)" id="ImageInput" type="file" accept="Image/*" hidden />
                    </label>
                </div>
            </ng-container>
        </div>
        </div>
        <div class="col-md-12">
          <button ejs-button *ngIf="activeIndex === stepValues.length - 1" type="button"
              class="e-info mx-3 mb-3 px-4 py-2 rounded-3" (click)="back()">Back</button>
          <button ejs-button *ngIf="activeIndex === stepValues.length - 1" type="button"
              class="e-info mx-3 mb-3 px-4 py-2 rounded-3" [disabled]="!studentRegistrationForm.StudentEmail || !studentRegistrationForm.StudentFullName || !studentRegistrationForm.StudentAddress || !studentRegistrationForm.StudentPhoneNumber || !studentRegistrationForm.StudentImgUrl" (click)="register()">Register</button>
        </div>
    </form>
</div>
