<div class="container">
    <div class="row">
        <div class="col-12">
            <h2>Classes</h2>
        </div>
        <div class="col-12">
            <p-table
                    #dt1
                    dataKey="id"
                    [rows]="15"
                    [rowsPerPageOptions]="[15, 30, 60]"
                    [paginator]="events && events.length > 15"
                    [value]="events"
                    [globalFilterFields]="['Id','Name', 'Duration']"
                    >
                    <ng-template pTemplate="caption">
                        <div class="row justify-content-between">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="pi pi-search"></i>
                                    </span>
                                    <input
                                        pInputText
                                        type="text"
                                        (input)="onInput($event)"
                                        placeholder="Search keyword"
                                        class="form-control"
                                    />
                                </div>
                            </div>
                            <div class="col-md-auto" *ngIf="authConfig.IsTeacher">
                                <button type="button" pButton icon="fa fa-plus" label="Add Event" class="p-button-sm p-button-outlined" (click)="redirectToAddEvent()"></button>
                            </div>
                        </div>                        
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="Id">Id <p-sortIcon field="Id"/></th>
                            <th pSortableColumn="Name">Class Name <p-sortIcon field="Name"/></th>
                            <th pSortableColumn="Day">Day <p-sortIcon field="Day"/></th>
                            <th pSortableColumn="IsOneOnOne">Audince <p-sortIcon field="IsOneOnOne"/></th>
                            <th pSortableColumn="StartTime">Start Time <p-sortIcon field="StartTime"/></th>
                            <th pSortableColumn="Duration">Duration <p-sortIcon field="Duration" /></th>
                            <th>Actions</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-event let-i="rowIndex">
                        <tr>
                            <td width="10%">{{i+1}}</td>
                            <td width="30%" height="40px">
                                <div class="fw-bold fs-5">
                                    {{event.Name}}
                                </div>
                                <div class="text-black-50 fs-6">
                                    {{event.SubjectName}}
                                </div>
                            </td>
                            <td>
                                {{ getDayLabel(event.Day) }}
                            </td>
                            <td>
                                {{event.IsOneOnOne ? 'One on One' : 'Group'}}
                            </td>
                            <td>
                                {{ event.EventStartTime | date: 'hh:mm a' }}
                            </td>
                            <td width="20%">
                                <span class="ml-1 vertical-align-middle">{{ event.Duration }}</span>
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-6 vertical-align-middle" *ngIf="authConfig.IsStudent">
                                        <p-button icon="pi pi-file-import" label="Request" severity="primary" (onClick)="requestEvent(event)" />
                                    </div>
                                    <div class="col-6 vertical-align-middle">
                                        <p-button icon="pi pi-times" label="Cancel" severity="danger" (onClick)="removeEvent(event.Id)" />
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="5">No customers found.</td>
                        </tr>
                    </ng-template>
                </p-table>
        </div>
    </div>
</div>